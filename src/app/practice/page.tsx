'use client';

import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Clock, Users, Star, Code, Zap, Palette } from 'lucide-react';
import Link from 'next/link';
import Image from 'next/image';
import { useState } from 'react';

const PracticePage = () => {
  const [selectedLevel, setSelectedLevel] = useState('all');
  
  const practiceProjects = [
    {
      id: 1,
      title: 'üçú Ïã†ÏäπÎ∞òÏ†ê ÎûúÎî©ÌéòÏù¥ÏßÄ',
      description: 'Ïù∏Ï≤ú Ï∞®Ïù¥ÎÇòÌÉÄÏö¥Ïùò Ï†ÑÌÜµ Ï§ëÏãùÎãπ ÎûúÎî©ÌéòÏù¥ÏßÄÎ•º ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî. HTML, CSS, JavaScriptÏùò Í∏∞Î≥∏Í∏∞Î•º Î™®Îëê ÏùµÌûê Ïàò ÏûàÏäµÎãàÎã§.',
      level: 'beginner',
      duration: '3ÏãúÍ∞Ñ',
      difficulty: 1,
      participants: 1234,
      rating: 4.9,
      tags: ['HTML', 'CSS', 'JavaScript'],
      image: 'https://picsum.photos/400/250?random=1',
      skills: ['Ïõπ Í∏∞Ï¥à', 'Î†àÏù¥ÏïÑÏõÉ', 'Î∞òÏùëÌòï ÎîîÏûêÏù∏'],
      completed: true
    },
    {
      id: 2,
      title: 'üè¢ Í∏∞ÏóÖ ÏÜåÍ∞ú ÌéòÏù¥ÏßÄ',
      description: 'Î™®ÎçòÌïú Í∏∞ÏóÖ ÏÜåÍ∞ú ÏõπÏÇ¨Ïù¥Ìä∏Î•º Ï†úÏûëÌï¥Î≥¥ÏÑ∏Ïöî. ÌöåÏÇ¨ Ï†ïÎ≥¥, ÌåÄ ÏÜåÍ∞ú, ÏÑúÎπÑÏä§ ÏïàÎÇ¥ Îì±ÏùÑ Ìè¨Ìï®Ìïú ÏôÑÏ†ÑÌïú ÏõπÏÇ¨Ïù¥Ìä∏ÏûÖÎãàÎã§.',
      level: 'intermediate',
      duration: '4ÏãúÍ∞Ñ',
      difficulty: 2,
      participants: 567,
      rating: 4.7,
      tags: ['HTML', 'CSS', 'JavaScript', 'Animation'],
      image: 'https://picsum.photos/400/250?random=2',
      skills: ['Í≥†Í∏â Î†àÏù¥ÏïÑÏõÉ', 'Ïï†ÎãàÎ©îÏù¥ÏÖò', 'Ìèº Ï≤òÎ¶¨'],
      completed: false
    },
    {
      id: 3,
      title: 'üîó LinkTree ÌÅ¥Î°†',
      description: 'Í∞úÏù∏ Î∏åÎûúÎî©ÏùÑ ÏúÑÌïú ÎßÅÌÅ¨ Î™®Ïùå ÌéòÏù¥ÏßÄÎ•º ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî. ÏÜåÏÖú ÎØ∏ÎîîÏñ¥ ÎßÅÌÅ¨Îì§ÏùÑ Ìïú Í≥≥Ïóê Î™®ÏïÑ Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.',
      level: 'beginner',
      duration: '2ÏãúÍ∞Ñ',
      difficulty: 1,
      participants: 892,
      rating: 4.8,
      tags: ['HTML', 'CSS', 'Flexbox'],
      image: 'https://picsum.photos/400/250?random=3',
      skills: ['Flexbox', 'ÏïÑÏù¥ÏΩò ÏÇ¨Ïö©', 'Ìò∏Î≤Ñ Ìö®Í≥º'],
      completed: false
    },
    {
      id: 4,
      title: 'üì± Í∞úÏù∏ Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
      description: 'Í∞úÎ∞úÏûêÎ•º ÏúÑÌïú Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏõπÏÇ¨Ïù¥Ìä∏Î•º Ï†úÏûëÌï¥Î≥¥ÏÑ∏Ïöî. ÌîÑÎ°úÏ†ùÌä∏ ÏáºÏºÄÏù¥Ïä§, Ïä§ÌÇ¨ Ï∞®Ìä∏, Ïó∞ÎùΩÏ≤ò Îì±ÏùÑ Ìè¨Ìï®Ìï©ÎãàÎã§.',
      level: 'intermediate',
      duration: '5ÏãúÍ∞Ñ',
      difficulty: 3,
      participants: 423,
      rating: 4.6,
      tags: ['HTML', 'CSS', 'JavaScript', 'Chart.js'],
      image: 'https://picsum.photos/400/250?random=4',
      skills: ['Ï∞®Ìä∏ ÎùºÏù¥Î∏åÎü¨Î¶¨', 'Î™®Îã¨', 'ÌïÑÌÑ∞ÎßÅ'],
      completed: false
    },
    {
      id: 5,
      title: 'üõçÔ∏è ÏáºÌïëÎ™∞ Î©îÏù∏ÌéòÏù¥ÏßÄ',
      description: 'Ïù¥Ïª§Î®∏Ïä§ ÏáºÌïëÎ™∞Ïùò Î©îÏù∏ÌéòÏù¥ÏßÄÎ•º Íµ¨ÌòÑÌï¥Î≥¥ÏÑ∏Ïöî. ÏÉÅÌíà Î™©Î°ù, Ïπ¥ÌÖåÍ≥†Î¶¨, Í≤ÄÏÉâ Í∏∞Îä• Îì±ÏùÑ Ìè¨Ìï®Ìï©ÎãàÎã§.',
      level: 'advanced',
      duration: '6ÏãúÍ∞Ñ',
      difficulty: 4,
      participants: 234,
      rating: 4.5,
      tags: ['HTML', 'CSS', 'JavaScript', 'API'],
      image: 'https://picsum.photos/400/250?random=5',
      skills: ['API Ïó∞Îèô', 'ÏÉÅÌÉú Í¥ÄÎ¶¨', 'Í≤ÄÏÉâ Í∏∞Îä•'],
      completed: false
    },
    {
      id: 6,
      title: 'üéµ ÏùåÏïÖ ÌîåÎ†àÏù¥Ïñ¥',
      description: 'Ïõπ Í∏∞Î∞ò ÏùåÏïÖ ÌîåÎ†àÏù¥Ïñ¥Î•º ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî. Ïû¨ÏÉù, ÏùºÏãúÏ†ïÏßÄ, Î≥ºÎ•® Ï°∞Ï†à Îì±Ïùò Í∏∞Îä•ÏùÑ Íµ¨ÌòÑÌï©ÎãàÎã§.',
      level: 'advanced',
      duration: '7ÏãúÍ∞Ñ',
      difficulty: 4,
      participants: 156,
      rating: 4.4,
      tags: ['HTML', 'CSS', 'JavaScript', 'Web Audio API'],
      image: 'https://picsum.photos/400/250?random=6',
      skills: ['Web Audio API', 'ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠', 'Ïª§Ïä§ÌÖÄ Ïª®Ìä∏Î°§'],
      completed: false
    }
  ];

  const levels = [
    { value: 'all', label: 'Ï†ÑÏ≤¥', count: practiceProjects.length },
    { value: 'beginner', label: 'Ï¥àÍ∏â', count: practiceProjects.filter(p => p.level === 'beginner').length },
    { value: 'intermediate', label: 'Ï§ëÍ∏â', count: practiceProjects.filter(p => p.level === 'intermediate').length },
    { value: 'advanced', label: 'Í≥†Í∏â', count: practiceProjects.filter(p => p.level === 'advanced').length }
  ];

  const filteredProjects = selectedLevel === 'all' 
    ? practiceProjects 
    : practiceProjects.filter(project => project.level === selectedLevel);

  const getDifficultyColor = (difficulty: number) => {
    switch (difficulty) {
      case 1: return 'bg-green-500';
      case 2: return 'bg-yellow-500';
      case 3: return 'bg-orange-500';
      case 4: return 'bg-red-500';
      default: return 'bg-gray-500';
    }
  };

  const getDifficultyLabel = (difficulty: number) => {
    switch (difficulty) {
      case 1: return 'Ïâ¨ÏõÄ';
      case 2: return 'Î≥¥ÌÜµ';
      case 3: return 'Ïñ¥Î†§ÏõÄ';
      case 4: return 'Îß§Ïö∞ Ïñ¥Î†§ÏõÄ';
      default: return 'Ïïå Ïàò ÏóÜÏùå';
    }
  };

  const getLevelIcon = (level: string) => {
    switch (level) {
      case 'beginner': return <Code className="w-4 h-4" />;
      case 'intermediate': return <Zap className="w-4 h-4" />;
      case 'advanced': return <Palette className="w-4 h-4" />;
      default: return <Code className="w-4 h-4" />;
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50">
      {/* Header */}
      <div className="bg-white border-b">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <div className="text-center">
            <h1 className="text-4xl font-bold text-secondary-900 mb-4">
              üéÆ Ïã§Ïäµ ÌîÑÎ°úÏ†ùÌä∏
            </h1>
            <p className="text-xl text-secondary-600 mb-8 max-w-2xl mx-auto">
              Ïã§Ï†ú ÌîÑÎ°úÏ†ùÌä∏Î•º ÎßåÎì§Ïñ¥Î≥¥Î©∞ ÏõπÍ∞úÎ∞ú Ïã§Î†•ÏùÑ ÌÇ§ÏõåÎ≥¥ÏÑ∏Ïöî
            </p>
            
            {/* Level Filter */}
            <div className="flex justify-center gap-2 mb-8">
              {levels.map((level) => (
                <Button
                  key={level.value}
                  variant={selectedLevel === level.value ? 'default' : 'outline'}
                  onClick={() => setSelectedLevel(level.value)}
                  className="flex items-center gap-2"
                >
                  {getLevelIcon(level.value)}
                  {level.label}
                  <Badge variant="secondary" className="ml-1">
                    {level.count}
                  </Badge>
                </Button>
              ))}
            </div>
          </div>
        </div>
      </div>

      <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
        {/* Practice Projects Grid */}
        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {filteredProjects.map((project) => (
            <Card key={project.id} className="overflow-hidden hover:shadow-lg transition-shadow">
              <div className="relative">
                <Image 
                  src={project.image} 
                  alt={project.title}
                  width={400}
                  height={192}
                  className="w-full h-48 object-cover"
                />
                {project.completed && (
                  <Badge className="absolute top-2 left-2 bg-green-500">
                    ÏôÑÎ£å
                  </Badge>
                )}
                <div className="absolute top-2 right-2 flex gap-2">
                  <Badge 
                    className={`${getDifficultyColor(project.difficulty)} text-white`}
                  >
                    {getDifficultyLabel(project.difficulty)}
                  </Badge>
                </div>
              </div>
              
              <CardContent className="p-6">
                <div className="flex items-center justify-between mb-3">
                  <h3 className="text-xl font-bold text-secondary-900">
                    {project.title}
                  </h3>
                  <div className="flex items-center gap-1">
                    <Star className="w-4 h-4 text-yellow-500 fill-current" />
                    <span className="text-sm font-medium">{project.rating}</span>
                  </div>
                </div>
                
                <p className="text-secondary-600 mb-4 line-clamp-3">
                  {project.description}
                </p>
                
                {/* Skills */}
                <div className="mb-4">
                  <h4 className="text-sm font-medium text-secondary-900 mb-2">
                    Î∞∞Ïö∏ Ïàò ÏûàÎäî Ïä§ÌÇ¨
                  </h4>
                  <div className="flex flex-wrap gap-1">
                    {project.skills.map((skill, index) => (
                      <Badge key={index} variant="secondary" className="text-xs">
                        {skill}
                      </Badge>
                    ))}
                  </div>
                </div>
                
                {/* Tags */}
                <div className="flex flex-wrap gap-1 mb-4">
                  {project.tags.map((tag, index) => (
                    <Badge key={index} variant="outline" className="text-xs">
                      {tag}
                    </Badge>
                  ))}
                </div>
                
                {/* Meta Info */}
                <div className="flex items-center justify-between text-sm text-secondary-600 mb-4">
                  <div className="flex items-center gap-4">
                    <div className="flex items-center gap-1">
                      <Clock className="w-4 h-4" />
                      {project.duration}
                    </div>
                    <div className="flex items-center gap-1">
                      <Users className="w-4 h-4" />
                      {project.participants}
                    </div>
                  </div>
                </div>
                
                <Button 
                  className="w-full" 
                  asChild
                  variant={project.completed ? 'outline' : 'default'}
                >
                  <Link href={`/practice/${project.id}`}>
                    {project.completed ? 'Îã§Ïãú ÌïòÍ∏∞' : 'ÏãúÏûëÌïòÍ∏∞'}
                  </Link>
                </Button>
              </CardContent>
            </Card>
          ))}
        </div>

        {/* Additional Resources */}
        <div className="mt-16 grid md:grid-cols-2 gap-8">
          <Card className="bg-primary-50 border-primary-200">
            <CardContent className="p-8 text-center">
              <Code className="w-16 h-16 text-primary-500 mx-auto mb-4" />
              <h3 className="text-xl font-bold text-secondary-900 mb-4">
                Í∏∞Ï¥àÍ∞Ä Î∂ÄÏ°±ÌïòÏã†Í∞ÄÏöî?
              </h3>
              <p className="text-secondary-600 mb-6">
                Ï≤¥Í≥ÑÏ†ÅÏù∏ ÌïôÏäµ Í≥ºÏ†ïÏùÑ ÌÜµÌï¥ Í∏∞Ï¥àÎ∂ÄÌÑ∞ Ï∞®Í∑ºÏ∞®Í∑º Î∞∞ÏõåÎ≥¥ÏÑ∏Ïöî
              </p>
              <Button asChild>
                <Link href="/learning">
                  ÌïôÏäµ Í≥ºÏ†ï ÏãúÏûëÌïòÍ∏∞
                </Link>
              </Button>
            </CardContent>
          </Card>

          <Card className="bg-secondary-50 border-secondary-200">
            <CardContent className="p-8 text-center">
              <Users className="w-16 h-16 text-secondary-500 mx-auto mb-4" />
              <h3 className="text-xl font-bold text-secondary-900 mb-4">
                Ìï®Íªò Í≥µÎ∂ÄÌïòÍ≥† Ïã∂ÏúºÏã†Í∞ÄÏöî?
              </h3>
              <p className="text-secondary-600 mb-6">
                Ïä§ÌÑ∞Îîî Í∑∏Î£πÏóê Ï∞∏Ïó¨Ìï¥ÏÑú ÎèôÎ£åÎì§Í≥º Ìï®Íªò ÏÑ±Ïû•Ìï¥Î≥¥ÏÑ∏Ïöî
              </p>
              <Button variant="outline" asChild>
                <Link href="/community">
                  Ïª§ÎÆ§ÎãàÌã∞ Ï∞∏Ïó¨ÌïòÍ∏∞
                </Link>
              </Button>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  );
};

export default PracticePage; 